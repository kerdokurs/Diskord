package diskord.server.controllers;

import com.auth0.jwt.exceptions.JWTVerificationException;
import com.auth0.jwt.interfaces.DecodedJWT;
import diskord.payload.Payload;
import diskord.payload.PayloadBody;
import diskord.payload.PayloadType;
import diskord.server.crypto.Auth;
import diskord.server.database.DatabaseManager;
import diskord.server.database.channel.Channel;
import diskord.server.database.room.Room;
import diskord.server.database.transactions.ChannelTransactions;

import java.util.List;
import java.util.Objects;
import java.util.UUID;

public class RoomController {
  public static Payload handleServerInfoTest(final Payload payload) {
//    if (Objects.isNull(payload.getBody().get("token")))
//      return new Payload()
//        .setType(PayloadType.AUTH_ERROR)
//        .setResponseTo(payload.getId())
//        .putBody(PayloadBody.BODY_MESSAGE, "token not set");
//
//    return new Payload()
//      .setType(PayloadType.INFO_USER_SERVERS_OK)
//      .setResponseTo(payload.getId())
//      .putBody("servers", List.of(
//        new Room()
//          .setId(UUID.randomUUID())
//          .setName("Test1")
//          .setDescription("Test 1 server")
//          .setIcon("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"),
//        new Room()
//          .setId(UUID.randomUUID())
//          .setName("Test2")
//          .setDescription("Test 2 server")
//          .setIcon("ousdhfouih")
//      ));
    return null;
  }

  public static Payload handleChannelsInfo(final DatabaseManager dbManager, final Payload request) {
    final PayloadBody body = request.getBody();
    final String roomId = (String) body.get("room_id");
    final UUID roomUuid = UUID.fromString(roomId);

    final String authToken = (String) body.get("token");

    final DecodedJWT token;
    try {
      token = Auth.decode(authToken); // TODO: use token
    } catch (final JWTVerificationException e) {
      return new Payload()
        .setType(PayloadType.AUTH_ERROR)
        .setResponseTo(request.getId())
        .putBody(PayloadBody.BODY_MESSAGE, "invalid token");
    }

    final List<Channel> channels = ChannelTransactions.getChannelsByRoomId(dbManager, roomUuid);

    return new Payload()
      .setType(PayloadType.INFO_CHANNELS)
      .setResponseTo(request.getId())
      .putBody("channels", channels);
  }
}
